; -----------------------------------------------
; Обработка клавиатуры
; http://wiki.osdev.org/PS2_Keyboard
; -----------------------------------------------

IRQ_01:

    brk    

    in      al,   0x60        ; AL содержит скан-код клавиатуры

    ; Отправить скан-код как обработанный
    in      al,   0x61
    mov     ah,   al

    or      al,   0x80
    out     0x61, al

    xchg    ah,   al
    out     0x61, al

    ; Отправить EOI
    mov al, 0x20
    out 0x20, al 

    iret    